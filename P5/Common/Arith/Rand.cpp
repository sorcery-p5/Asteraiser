#include "P5.h"

namespace P5
{


///////////////////////////////////////////////////////////////////////////////
//
//	XOR乱数
//
///////////////////////////////////////////////////////////////////////////////

//******************************************************************************
//	リセット
//******************************************************************************
void XORRand::Reset( void )
{
	_SetSeed( DEFAULT_X );
}

//******************************************************************************
//	リセット
//******************************************************************************
void XORRand::Reset( dword Seed )
{
	_SetSeed( Seed );
}

//-----------------------------------------------------------------------------
//	シードを設定
//-----------------------------------------------------------------------------
void XORRand::_SetSeed( dword s )
{
	x = s;
	y = DEFAULT_Y;
	z =	DEFAULT_Z;
	w = DEFAULT_W;
}

//-----------------------------------------------------------------------------
//	乱数生成
//-----------------------------------------------------------------------------
dword XORRand::_ExtRand( void )
{
	dword t = (x^(x<<11));
	x = y; y = z; z = w;

	w = (w^(w>>19))^(t^(t>>8));

	return w;
}



}